
<template id="moz-shutter-button" broadcasts>
  <div style="" onclick="$(this).parent().trigger('broadcast', 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==')"> </div>
</template>

<template id="moz-picture-frame" ondblclick="$(this).find('img').attr('src', arguments[1])">
  <img style="width: 100px; height: 100px; border: 1px solid black;" />
</template>

<template id="moz-button" broadcasts>
  <button onclick="$(this).parent().trigger('broadcast')">Click Me</button>
</template>

<template id="moz-counter" ondblclick="$(this).find('div').text(parseFloat($(this).text()) + 1)">
  <div style="width: 100px; height: 100px; font-size: 50px;">2</div>
</template>

<template id="moz-input-form" broadcasts>
  <input type="text">
  <button onclick="$(this).parent().trigger('broadcast', $(this).prev().val())">Submit</button>
</template>

<template id="moz-log" ondblclick="$(this).append(arguments[1] + '<br>')">
  <div></div>
</template>

<template id="moz-metronome" period="1000" broadcasts>
  <div class="component-thumb">METRONOME</div>
  <div>Metronome</div>
  <script type="text/javascript">
  (function () {
    var element = $('.moz-metronome').last();
    setInterval(function () {
      element.trigger('broadcast');
    }, element.attr('period') || 1000);
  })()
  </script>
</template>

<template id="moz-camera" broadcasts>

  <script src="/camera-action.min.js"></script>
  <div style="width: 320px; height: 240px;"></div>
  <script>
  (function () {
    var element = $('.moz-camera div').last();
    var camera = new Camera(element[0], {
      'width': 320,
      'height': 240
    });
    element.on('click', function () {
      camera.takePhoto();
    });
    camera.action();
    camera.on('photo', function (data) {
      element.parent().trigger('broadcast', data);
    });

  })();
  </script>
</template>
